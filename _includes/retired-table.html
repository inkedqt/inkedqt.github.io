{% assign retired = site.data.retired | default: [] %}
<table>
  <thead>
    <tr>
      <th>Machine</th>
      <th>Difficulty</th>
      <th>Status</th>
      <th>Proof</th>
      <th>Writeup</th>
      <th>Summary</th>
      <th>Tags</th>
    </tr>
  </thead>
  <tbody>
  {% for m in retired %}
    <tr>
      <td>{{ m.name | default: m.machine }}</td>
      <td>{{ m.difficulty }}</td>
      <td>{{ m.status | default: "âœ… Done" }}</td>
      <td>
        {% if m.proof %}
          <img src="{{ m.proof }}" style="max-width:80px; border-radius:6px; box-shadow:0 0 6px #ff66c4;" />
        {% endif %}
      </td>
      <td>
        {% if m.writeup %}
          <a href="{{ m.writeup }}">View</a>
        {% endif %}
      </td>
      <td>{{ m.summary }}</td>
      <td>{{ m.tags }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<h2 class="text-xl font-bold mt-8 mb-4">ðŸ§ª Proving Grounds (PG) Boxes</h2>
{% assign pg = site.data.pg | default: [] %}
<table class="w-full text-left table-auto border-collapse mb-6">
  <thead>
    <tr class="bg-pink-600 text-white">
      <th class="p-2">Box</th>
      <th class="p-2">Difficulty</th>
      <th class="p-2">Status</th>
      <th class="p-2">Proof</th>
      <th class="p-2">Writeup</th>
      <th class="p-2">Notes</th>
    </tr>
  </thead>
  <tbody class="bg-black text-white">
  {% for b in pg %}
    <tr>
      <td class="p-2">{{ b.name | default: b.box }}</td>
      <td class="p-2">{{ b.difficulty }}</td>
      <td class="p-2">{{ b.status | default: "âœ… Done" }}</td>
      <td class="p-2">
        {% if b.proof %}
          <img src="{{ b.proof }}" class="w-20 rounded-xl shadow-md" />
        {% endif %}
      </td>
      <td class="p-2">
        {% if b.writeup %}
          <a href="{{ b.writeup }}" class="text-pink-400 underline">View</a>
        {% endif %}
      </td>
      <td class="p-2">{{ b.notes | default: b.summary }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<h2 class="text-xl font-bold mt-8 mb-4">ðŸ§ª Try Hack Me (THM) Boxes</h2>
{% assign thm = site.data.thm | default: [] %}
<table class="w-full text-left table-auto border-collapse mb-6">
  <thead>
    <tr class="bg-pink-600 text-white">
      <th class="p-2">Box</th>
      <th class="p-2">Difficulty</th>
      <th class="p-2">Status</th>
      <th class="p-2">Proof</th>
      <th class="p-2">Writeup</th>
      <th class="p-2">Notes</th>
    </tr>
  </thead>
  <tbody class="bg-black text-white">
  {% for t in thm %}
    <tr>
      <td class="p-2">{{ t.name | default: t.box }}</td>
      <td class="p-2">{{ t.difficulty }}</td>
      <td class="p-2">{{ t.status | default: "âœ… Done" }}</td>
      <td class="p-2">
        {% if t.proof %}
          <img src="{{ t.proof }}" class="w-20 rounded-xl shadow-md" />
        {% endif %}
      </td>
      <td class="p-2">
        {% if t.writeup %}
          <a href="{{ t.writeup }}" class="text-pink-400 underline">View</a>
        {% endif %}
      </td>
      <td class="p-2">{{ t.notes | default: t.summary }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
